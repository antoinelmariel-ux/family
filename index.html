<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Codex ‚Äî Notes ‚Ä¢ T√¢ches ‚Ä¢ Courses</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div>
        <h1>Codex</h1>
        <p class="tagline">Votre hub quotidien mobile : courses, t√¢ches et notes.</p>
      </div>
      <button class="color-scheme-toggle" aria-label="Changer le th√®me" id="themeToggle">
        <span class="toggle-icon" aria-hidden="true">üåô</span>
      </button>
    </header>

    <nav class="tab-bar" aria-label="Sections principales" role="tablist">
      <button
        class="tab-button is-active"
        data-target="groceries"
        id="tab-groceries"
        role="tab"
        aria-selected="true"
        aria-controls="groceries"
      >
        <span class="tab-label">Courses</span>
        <span class="tab-count" id="count-groceries" aria-live="polite">0</span>
      </button>
      <button
        class="tab-button"
        data-target="tasks"
        id="tab-tasks"
        role="tab"
        aria-selected="false"
        aria-controls="tasks"
      >
        <span class="tab-label">T√¢ches</span>
        <span class="tab-count" id="count-tasks" aria-live="polite">0</span>
      </button>
      <button
        class="tab-button"
        data-target="notes"
        id="tab-notes"
        role="tab"
        aria-selected="false"
        aria-controls="notes"
      >
        <span class="tab-label">Notes</span>
        <span class="tab-count" id="count-notes" aria-live="polite">0</span>
      </button>
    </nav>

    <main>
      <section
        id="groceries"
        class="tab-panel is-active"
        aria-labelledby="tab-groceries"
        role="tabpanel"
        tabindex="0"
      >
        <header class="panel-header">
          <h2>Liste de courses organis√©e</h2>
          <p>Ajoutez vos produits, classez-les par rayon et cochez-les au fur et √† mesure.</p>
        </header>
        <form class="card form" id="groceryForm" autocomplete="off">
          <label class="input">
            <span>Produit</span>
            <input type="text" id="groceryName" name="groceryName" required placeholder="Ex. Tomates" />
          </label>
          <label class="input">
            <span>Cat√©gorie</span>
            <div class="select-wrapper">
              <select id="groceryCategory" name="groceryCategory"></select>
              <button type="button" class="text-button" id="addCategoryBtn">+ Nouvelle cat√©gorie</button>
            </div>
          </label>
          <div class="form-actions">
            <button type="submit" class="primary-button">Ajouter √† la liste</button>
          </div>
        </form>

        <div class="category-list" id="groceryList" aria-live="polite"></div>
      </section>

      <section id="tasks" class="tab-panel" aria-labelledby="tab-tasks" role="tabpanel" tabindex="0">
        <header class="panel-header">
          <h2>Vos to-do lists</h2>
          <p>Cr√©ez plusieurs listes pour garder vos journ√©es organis√©es.</p>
        </header>

        <form class="card form" id="taskListForm" autocomplete="off">
          <label class="input">
            <span>Nouvelle liste</span>
            <input type="text" id="taskListName" placeholder="Ex. Matin√©e" required />
          </label>
          <div class="form-actions">
            <button type="submit" class="primary-button">Cr√©er la liste</button>
          </div>
        </form>

        <div class="task-lists" id="taskLists" aria-live="polite"></div>
      </section>

      <section id="notes" class="tab-panel" aria-labelledby="tab-notes" role="tabpanel" tabindex="0">
        <header class="panel-header">
          <h2>Notes enrichies</h2>
          <p>Composez vos notes avec mise en page avanc√©e comme sur votre iPhone.</p>
        </header>

        <form class="card form" id="noteForm" autocomplete="off">
          <label class="input">
            <span>Titre</span>
            <input type="text" id="noteTitle" placeholder="Titre de la note" required />
          </label>
          <div class="form-actions">
            <button type="submit" class="primary-button">Cr√©er une note</button>
          </div>
        </form>

        <div class="notes-layout">
          <aside class="notes-sidebar" aria-label="Liste des notes">
            <ul id="noteList"></ul>
          </aside>
          <section class="notes-editor" aria-label="√âditeur de note">
            <div class="editor-toolbar" id="editorToolbar" role="toolbar" aria-label="Outils de mise en forme">
              <button type="button" data-command="bold" aria-label="Gras"><strong>B</strong></button>
              <button type="button" data-command="italic" aria-label="Italique"><em>I</em></button>
              <button type="button" data-command="underline" aria-label="Souligner"><span class="underline">U</span></button>
              <button type="button" data-command="insertUnorderedList" aria-label="Liste √† puces">‚Ä¢ Liste</button>
              <button type="button" data-command="formatBlock" data-value="h2" aria-label="Sous-titre">H2</button>
              <button type="button" data-command="formatBlock" data-value="blockquote" aria-label="Citation">‚ùù</button>
            </div>
            <article
              id="noteEditor"
              class="note-editor"
              contenteditable="true"
              aria-label="Contenu de la note"
              data-placeholder="Commencez √† √©crire‚Ä¶"
            ></article>
            <div class="note-empty-state" id="noteEmptyState">
              <p>S√©lectionnez une note pour commencer √† √©crire.</p>
            </div>
          </section>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <small>Codex ‚Äî Version <span id="appVersion">v0.3.0</span></small>
    </footer>

    <dialog id="categoryDialog">
      <form method="dialog" class="dialog-form" id="categoryForm">
        <h3>Nouvelle cat√©gorie</h3>
        <label class="input">
          <span>Nom de la cat√©gorie</span>
          <input type="text" id="newCategoryName" required placeholder="Ex. Boucherie" />
        </label>
        <menu class="dialog-actions">
          <button value="cancel" class="text-button">Annuler</button>
          <button value="confirm" class="primary-button">Ajouter</button>
        </menu>
      </form>
    </dialog>

    <template id="taskListTemplate">
      <section class="card task-list" data-list-id="">
        <header class="task-list-header">
          <h3></h3>
          <button type="button" class="icon-button" data-action="delete-list" aria-label="Supprimer la liste">‚úï</button>
        </header>
        <form class="task-form">
          <label class="input">
            <span>T√¢che</span>
            <input type="text" name="taskName" placeholder="Nouvelle t√¢che" required />
          </label>
          <div class="form-actions">
            <button type="submit" class="secondary-button">Ajouter</button>
          </div>
        </form>
        <ul class="task-items"></ul>
      </section>
    </template>

    <template id="taskItemTemplate">
      <li class="task-item" data-task-id="">
        <label>
          <input type="checkbox" />
          <span class="task-text"></span>
        </label>
        <button type="button" class="icon-button" data-action="delete-task" aria-label="Supprimer la t√¢che">‚úï</button>
      </li>
    </template>

    <template id="noteListItemTemplate">
      <li data-note-id="">
        <button type="button" class="note-button">
          <span class="note-title"></span>
          <span class="note-preview"></span>
        </button>
        <button type="button" class="icon-button" data-action="delete-note" aria-label="Supprimer la note">‚úï</button>
      </li>
    </template>

    <script src="app.js" type="module"></script>
  </body>
</html>
